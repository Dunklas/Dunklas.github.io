<!doctype html><html lang=en-us><head><title>Counting subsets using r-combinations //</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.81.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Rickard Andersson"><meta name=description content><link rel=stylesheet href=https://dunklas.github.io/css/main.min.68e582a4d4ed824d6b7e3b5b37cae47eb3779bd631046379d0e68b38230cc3e2.css><meta name=twitter:card content="summary"><meta name=twitter:title content="Counting subsets using r-combinations"><meta name=twitter:description content="Below are some examples of counting subsets with certain restrictions, using the concept of combinations, addition rule and difference rule.
Consider a scenario where, for the rest of your life, from the total of nineteen studio albums by Black Sabbath, you&rsquo;re only allowed to listen to five of them. Without any restrictions to the selection, we can use 5-combinations to ascertain that the number of combinations you&rsquo;d need to consider are: $${19 \choose 5} = \frac{19!"><meta property="og:title" content="Counting subsets using r-combinations"><meta property="og:description" content="Below are some examples of counting subsets with certain restrictions, using the concept of combinations, addition rule and difference rule.
Consider a scenario where, for the rest of your life, from the total of nineteen studio albums by Black Sabbath, you&rsquo;re only allowed to listen to five of them. Without any restrictions to the selection, we can use 5-combinations to ascertain that the number of combinations you&rsquo;d need to consider are: $${19 \choose 5} = \frac{19!"><meta property="og:type" content="article"><meta property="og:url" content="https://dunklas.github.io/posts/math/counting_subsets_with_combinations/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-14T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-14T00:00:00+00:00"></head><body><header class=app-header><a href=https://dunklas.github.io><img class=app-header-avatar src=/kittelsen.jpg alt="Rickard Andersson"></a><h1></h1><p>I like to write code and learn maths, and sometimes write about it.</p></header><main class=app-container><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}},window.addEventListener('load',a=>{document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><style type=text/css>img[src$='#center']{display:block;margin:1rem auto;max-width:100%;height:auto}</style><article class=post><header class=post-header><h1 class=post-title>Counting subsets using r-combinations</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Mar 14, 2021</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>7 min read</div></div></header><div class=post-content><p>Below are some examples of counting subsets with certain restrictions, using the concept of combinations, <a href=https://dunklas.github.io/posts/math/counting_elements_sets/#the-addition-rule>addition rule</a> and <a href=https://dunklas.github.io/posts/math/counting_elements_sets/#the-difference-rule>difference rule</a>.</p><p>Consider a scenario where, for the rest of your life, from the total of nineteen studio albums by Black Sabbath, you&rsquo;re only allowed to listen to five of them. Without any restrictions to the selection, we can use 5-combinations to ascertain that the number of combinations you&rsquo;d need to consider are:
$${19 \choose 5} = \frac{19!}{5!(19-5)!} = \frac{19!}{5!14!} = 11628$$
When adding some restrictions to the selection, we need to think a bit differently.</p><h2 id=both-or-neither>Both or neither</h2><p>When you listen to <em>Sabbath Bloody Sabbath</em>, you always feel an urge to listen to <em>Volume 4</em> as well. So, in your selection of five Black Sabbath studio albums, if you include <em>Sabbath Bloody Sabbath</em>, you must include <em>Volume 4</em> too (and vice versa), or you include none of them.</p><p>Let $A$ be the set of all 5-combinations including both <em>Sabbath Bloody Sabbath</em> and <em>Volume 4</em>. We begin by selecting both <em>Sabbath Bloody Sabbath</em> and <em>Volume 4</em>. To complete our selection of five studio albums, we need to select $3$ studio albums from the remaining $19 - 2 = 17$ studio albums. So the number of 5-combinations containing both <em>Sabbath Bloody Sabbath</em> and <em>Volume 4</em> are:
$$|A| = {17 \choose 3} = 680$$</p><p>Let $B$ be the set of all 5-combinations including neither <em>Sabbath Bloody Sabbath</em> nor <em>Volume 4</em>. We need to select five studio albums, but since these albums cannot be <em>Sabbath Bloody Sabbath</em> nor <em>Volume 4</em>, we have $19 -2 = 17$ studio albums to chose from. So the number of 5-combinations containing neither <em>Sabbath Bloody Sabbath</em> nor <em>Volume 4</em> are:
$$|B| = {17 \choose 5} = 6188$$</p><p>Now, since $A$ and $B$ are disjoint the addition rule can be used to determine how many 5-combinations there are that either contains both <em>Sabbath Bloody Sabbath</em> and <em>Volume 4</em>, or none of the two albums.
$$|A \cup B| = |A| + |B| = 680 + 6188 = 6868$$</p><h2 id=not-both>Not both</h2><p>You think that <em>Tyr</em> and <em>Headless Cross</em> are really similar, and therefore think it&rsquo;s a waste to include both of them, but you could consider to include either one of them, So, in your selection of five Black Sabbath studio albums, you can include either <em>Tyr</em> or <em>Headless Cross</em>, but not both of them.</p><p>Let $A$ be the set of all 5-combinations including both <em>Tyr</em> and <em>Headless Cross</em>. We begin by selecting both <em>Tyr</em> and <em>Headless Cross</em>, and then we select the remaining three studio albums from the remaining $19 - 2 = 17$. So the number of 5-combinations including both <em>Tyr</em> and <em>Headless Cross</em> are: $|A| = {17 \choose 3} = 680$.</p><p>Let $B$ be the set of all 5-combinations with no restrictions to the selection, $|B| = {19 \choose 5} = 11628$.</p><p>Since $A$ is a subset of $B$ we can use the difference rule to determine how many 5-combinations there are that does not contain both <em>Tyr</em> and <em>Headless Cross</em>.
$$|B - A| = |B| - |A| = 11628 - 680 = 10948$$</p><p>An alternative solution for this is to partition the desired set a bit differently and use the addition rule:</p><ul><li>Let $X$ be the set of all 5-combinations including <em>Tyr</em> but not <em>Headless Cross</em>.</li><li>Let $Y$ be the set of all 5-combinations including <em>Headless Cross</em> but not <em>Tyr</em>.</li><li>Let $Z$ be the set of all 5-combinations including neither <em>Tyr</em> nor <em>Headless Cross</em>.</li></ul><p>Now the number of 5-combinations that does not contain both <em>Tyr</em> and <em>Headless Cross</em> is equal to:
$$|X \cup Y \cup Z| = |X| + |Y| + |Z| = {17 \choose 4} + {17 \choose 4} + {17 \choose 5} = 2380 + 2380 + 6188 = 10948$$</p><h2 id=members-of-different-classes>Members of different classes</h2><p>We could regard the set of studio albums by Black Sabbath as a set where the members belong to different classes, e.g. by vocalist. The set contains 9 elements with Ozzy Osbourne, 3 elements with Ronnie James Dio, 1 element with Ian Gillan, 1 element with Glenn Hughes, and 5 elements with Tony Martin.</p><h3 id=selections-with-x-elements-from-one-class-and-y-from-another-class>Selections with $x$ elements from one class, and $y$ from another class</h3><p>Consider that we&rsquo;d like our selection of five studio albums to contain three albums with Ozzy Osbourne, and two albums with Ronnie James Dio. The process of selecting the five albums can be seen as a 2-step process: (1) Select albums with Ozzy Osbourne; (2) Select albums with Ronnie James Dio.</p><ul><li>There are ${9 \choose 3} = 84$ different ways to choose three studio albums with Ozzy Osbourne from the total of nine albums.</li><li>There are ${3 \choose 2} = 3$ different ways to choose two studio albums with Ronni James Dio from the total of three albums.</li></ul><p>Now, we can use the multiplication rule to determine that the number of 5-combinations containing three albums with Ozzy Osbourne and two albums with Ronnie James Dio is:
$${9 \choose 3} \times {3 \choose 2} = 84 \times 3 = 252$$</p><h3 id=selections-with-at-least-one-element-from-a-certain-class>Selections with at least one element from a certain class</h3><p>Imagine that we want our selection of five studio albums to contain at least one studio album with Tony Martin (but it could also contain more than one).</p><p>Let $A$ be the set of all 5-combinations that doesn&rsquo;t contain any studio album with Tony Martin. For these 5-combinations we need to select five studio albums from the $19 - 5 = 14$ studio albums which does not include Tony Martin. So the number 5-combinations which does not include any studio albums with Tony Martin is: $|A| = {14 \choose 5} = 2002$.</p><p>Let $B$ be the set of all 5-combinations with no restrictions to the selection, $|B| = {19 \choose 5} = 11628$.</p><p>Since $A$ is a subset of $B$ we can use the difference rule to determine how many 5-combinations there are that contains at least one studio album with Tony Martin.
$$|B - A| = |B| - |A| = 11628 - 2002 = 9626$$</p><p>An alternative solution for this is to partition the desired result into five disjoint sets and then use the addition rule:</p><ul><li>Let $V$ be the set of all 5-combinations including one studio album with Tony Martin, and four without</li><li>Let $W$ be the set of all 5-combinations including two studio albums with Tony Martin, and three without</li><li>Let $X$ be the set of all 5-combinations including three studio albums with Tony Martin, and two without</li><li>Let $Y$ be the set of all 5-combinations including four studio albums with Tony Martin, and one without</li><li>Let $Z$ be the set of all 5-combinations including five studio albums with Tony Maritn, and zero without</li></ul><p>$$\begin{aligned}|V \cup W \cup X \cup Y \cup Z| &= |V| + |W| + |X| + |Y| + |Z| \\[10pt] &= ({5 \choose 1} \times {14 \choose 4}) + ({5 \choose 2} \times {14 \choose 3}) + ({5 \choose 3} \times {14 \choose 2}) + ({5 \choose 4} \times {14 \choose 1}) + ({5 \choose 5} \times {14 \choose 0}) \\[10pt] &= (5 \times 1001) + (10 \times 364) + (10 \times 91) + (5 \times 14) + (1 \times 1) \\[10pt] &= 5005 + 3640 + 910 + 70 + 1 \\[10pt] &= 9626\end{aligned}$$</p><h3 id=selections-with-at-most-one-element-from-a-certain-class>Selections with at most one element from a certain class</h3><p>Imagine that we want our selection of five studio albums to contain at most one studio album with Tony Martin.</p><p>Let $A$ be the set of all 5-combinations that doesn&rsquo;t contain any studio albums with Tony Martin. For these 5-combinations we need to select five studio albums from the $19 - 5 = 14$ studio albums which does not include Tony Martin. So the number 5-combinations which does not include any studio albums with Tony Martin is:
$$|A| = {14 \choose 5} = 2002$$</p><p>Let $B$ be the set of all 5-combinations which contains exactly one studio album with Tony Martin, and four albums that does not include Tony Martin. This can be seen as a 2-step process where we (1): Select one album out of the five with Tony Martin; (2) Select four albums out of the fourteen that does not include Tony Martin. So, the number of elements in $B$ is:
$$|B| = {5 \choose 1} \times {14 \choose 4} = 5 \times 1001 = 5005$$</p><p>Since $A$ and $B$ are disjoint we can use the addition rule to determine how many 5-combinations there are that contains at most one studio album with Tony Martin.
$$|A \cup B| = |A| + |B| = 2002 + 5005 = 7007$$</p></div><div class=post-footer></div></article></main></body></html>